<app-nav-bar></app-nav-bar>

<!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<div class="group-navigation">
  <ul>
    <li (click)="showMembersTab()">Group Members</li>
    <li (click)="showChannelsTab()">Group Channels</li>
  </ul>
</div>

<!-- ê·¸ë£¹ ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ -->
<div *ngIf="showMembers" class="group-detail-container">
  <h2>Group Members</h2>

  <!-- ê·¸ë£¹ ê´€ë¦¬ì -->
  <h3>Group Admin</h3>
  <ul>
    <li *ngFor="let admin of groupAdmins">
      <strong>{{ admin.firstName }} {{ admin.lastName }}</strong> - {{ admin.email || admin.role }}
    </li>
  </ul>

  <!-- ì¼ë°˜ ìœ ì € ë¦¬ìŠ¤íŠ¸ -->
  <h3>Users</h3>
  <ul>
    <li *ngFor="let member of groupMembers">
      <strong>{{ member.firstName }} {{ member.lastName }}</strong> - {{ member.email }} 
      <span *ngIf="member.status === 'Pending'">(Pending)</span>
      <span *ngIf="member.status === 'Accepted'">(Accepted)</span>
    </li>
  </ul>

  <!-- ìœ ì € ì´ë¦„ ê²€ìƒ‰ ë° ì´ˆëŒ€ -->
  <div class="invite-user-container">
    <h3>Search & Invite User by Name or Email</h3>
    <input type="text" [(ngModel)]="searchName" placeholder="Enter user's name or email to search" />
    <button (click)="searchUser()">ğŸ” Search</button>
  </div>

  <!-- ê²€ìƒ‰ëœ ì‚¬ìš©ì ë¦¬ìŠ¤íŠ¸ -->
  <div *ngIf="searchedUsers.length > 0">
    <h3>Search Results</h3>
    <ul>
      <li *ngFor="let user of searchedUsers">
        <strong>{{ user.firstName }} {{ user.lastName }}</strong> - {{ user.email }}
        <button (click)="inviteUser(user.username)">â• Invite</button>
      </li>
    </ul>
  </div>
</div>

<!-- ê·¸ë£¹ ì±„ë„ ë¦¬ìŠ¤íŠ¸ -->
<div *ngIf="showChannels" class="group-detail-container">
  <h2>Group Channels</h2>
  <ul>
    <li *ngFor="let channel of groupChannels">{{ channel.name }}</li>
  </ul>
</div>

<!-- ê·¸ë£¹ ê¸°ë³¸ ì •ë³´ -->
<div class="group-detail-container">
  <h1>{{ group?.name }}</h1>
  <p><strong>Description:</strong> {{ group?.description }}</p>
  <p><strong>Created by:</strong> {{ group?.creatorName }}</p>
</div>
