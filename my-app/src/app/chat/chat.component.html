<div class="chat-container">
  <h2>Welcome to the Chat Room</h2>
  <p>Channel ID: {{ channelId }}</p>

  <!-- 참가 메시지 표시 -->
  <p *ngIf="joinMessage">{{ joinMessage }}</p>

  <!-- 참가한 유저 목록 -->
  <h3>Users in this channel:</h3>
  <ul>
    <li *ngFor="let member of members">{{ member }}</li>
  </ul>

  <!-- Exit 버튼 추가 -->
  <button (click)="exitChannel()">Exit</button>

  <!-- 채팅 메시지가 표시될 공간 -->
  <div class="chat-messages">
    <div *ngFor="let msg of messages">
      <strong>{{ msg.username }}:</strong> 
      
      <!-- 메시지 내용 표시 -->
      <span *ngIf="msg.message">{{ msg.message }}</span>

      <!-- 이미지 및 비디오 파일 표시 -->
      <div *ngIf="msg.fileUrl">
        <img *ngIf="msg.fileType === 'image'" [src]="msg.fileUrl" alt="Image" style="max-width: 200px; max-height: 200px;" />
        <video *ngIf="msg.fileType === 'video'" [src]="msg.fileUrl" controls width="200"></video>
      </div>
    </div>
  </div>

  <!-- 채팅 메시지 입력 및 전송 -->
  <div class="chat-input">
    <input [(ngModel)]="message" type="text" placeholder="Type your message..." />
    <input type="file" (change)="handleFileInput($event)" />  <!-- 파일 선택 필드 -->
    <button (click)="sendMessage()">Send</button>  <!-- Send 버튼이 모든 것을 처리 -->
  </div>
</div>
